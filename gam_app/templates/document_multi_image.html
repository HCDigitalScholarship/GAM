{% extends "base.html" %}
{% block title %}GAM{% endblock %}

{% block extra_static %}
<style>
.sea-icon{
  height: 30px;
  width: 30px;
}
</style>
{% endblock %}

{% load staticfiles %}
{% load i18n %}

{% block content %}
{% if clipboards %}
<strong>{% trans  "Portapapeles" %}:</strong><br>
{% for board in clipboards %}
<a href="/portapapeles/{{ board }}">{{ board }}</a><br>
{% endfor %}
{% endif %}
<hr>
{% if state %}

<script type="text/javascript" src="{% static 'js/openseadragon.min.js' %}"></script>
<script type="text/javascript" src="https://cdn.rawgit.com/Pin0/openseadragon-justified-collection/1.0.2/dist/openseadragon-justified-collection.min.js"></script>

<span>
   <img src={% static 'openseadragon-flat-toolbar-icons/images/zoomin_rest.png' %}   id='zoom-in' class='sea-icon'>
   <img src={% static 'openseadragon-flat-toolbar-icons/images/zoomout_rest.png' %}  id='zoom-out' class='sea-icon'>
   <img src={% static 'openseadragon-flat-toolbar-icons/images/home_rest.png' %}     id='home'  class='sea-icon'>
   <img src={% static 'openseadragon-flat-toolbar-icons/images/fullpage_rest.png' %} id='full-page' class='sea-icon'  >
   <img src={% static 'openseadragon-flat-toolbar-icons/images/previous_rest.png' %} id='previous' class='sea-icon'>
   <img src={% static 'openseadragon-flat-toolbar-icons/images/next_rest.png' %}     id='next' class='sea-icon'>
</span>


<div id="openseadragon1" style="width:100%; height: 200%;"></div>
<script type="text/javascript">
    var viewer = OpenSeadragon({
        id: "openseadragon1",

        zoomInButton: "zoom-in",
        zoomOutButton: "zoom-out",
        homeButton: "home",
        fullPageButton: "full-page",
        nextButton: "next",
        previousButton: "previous",
 
        crossOriginPolicy: 'Anonymous',
        collectionColumns: 8,
        collectionMode: true,
        showRotationControl: true
    });

    viewer.addHandler('open', function() {
            viewer.world.arrange();
        });
</script>
</div>
    <ul>
{% for item in state %}
<script type="text/javascript">
viewer.addTiledImage({
    tileSource: '/dzi/{{ item.nombre_del_archivo }}.dzi',
});

</script>
{% endfor %}


</ul>
    


    
{% else %}
<p>{% trans "Ning√∫n documento con ese nombre de archivo" %}</p>
{% endif %}
{% endblock %}
