{% extends "base.html" %}
{% block title %}GAM{% endblock %}
{% load staticfiles %}

{% block content %}
{% if clipboards %}
<strong>{% trans "Portapapeles" %}:</strong><br>
{% for board in clipboards %}
<a href="/portapapeles/{{ board }}">{{ board }}</a><br>
{% endfor %}
{% endif %}
<hr>
{% if state %}

<script type="text/javascript" src="{% static 'js/openseadragon.min.js' %}"></script>
<script type="text/javascript" src="https://cdn.rawgit.com/Pin0/openseadragon-justified-collection/1.0.2/dist/openseadragon-justified-collection.min.js"></script>
<div id="openseadragon1" style="width:100%; height: 200%;"></div>
<script type="text/javascript">
    var viewer = OpenSeadragon({
        id: "openseadragon1",
        crossOriginPolicy: 'Anonymous',
        collectionColumns: 8,
        collectionMode: true,
        showRotationControl: true
    });

    viewer.addHandler('open', function() {
            viewer.world.arrange();
        });
</script>
</div>
    <ul>
{% for item in state %}
<script type="text/javascript">
viewer.addTiledImage({
    tileSource: '{% url 'dzi' item.nombre_del_archivo %}.dzi',
});

</script>
{% endfor %}


</ul>
    


    
{% else %}
<p>{% trans "Ning√∫n documento con ese nombre de archivo" %}</p>
{% endif %}
{% endblock %}
