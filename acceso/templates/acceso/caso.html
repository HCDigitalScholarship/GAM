{% extends 'acceso/base.html' %}
{% load i18n %}
{% load static %}




{% block content2 %}
<!-- Why is this import here?  -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<div style="margin-top: 50px;" class="container">

      <div class="row">
          <div class="col">
              <h2  class="text-left">{{ caso.nombre_del_caso }} </h2>
          </div>
      </div>

      <div class="row">
        <div class="col-md-6">
            <div class="page-header">
			  <h3>{% trans "Una descripción general" %}</h3>
                <div class="well" style="overflow:auto; width:100%; height:300px;">
			      {{ caso.descripción |safe}} 
                </div>

            </div>
        </div>
        <div class="col-md-6">
          {% if images or face %}
          <div id="cases" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#cases" data-slide-to="0" class="active"></li>
              {% for image in images %}
              <li data-target="#cases" data-slide-to="{{ forloop.counter  }}"></li>
              {% endfor %}

            </ol>
            <div class="carousel-inner">


              <div class="carousel-item active" role="listbox">
                <img class="d-block w-100" src="http://archivogam.haverford.edu/{{face}}" alt="First slide">
              </div>
              {% for image in images %}
	            <div class="carousel-item">
			      <img class="d-block w-100" src="http://archivogam.haverford.edu/{{image}}" alt="Slide number {{ forloop.counter  }}">
	            </div>
	          {% endfor %}
            </div>

            <a class="left carousel-control" href="#cases" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
    	    <a class="right carousel-control" href="#cases" role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
            </a>

          </div>
		  {% endif %}
        </div>
	  </div>

      <div class="row">
        <div class="col-md-6">
		  <!-- Open sea dragon -->
		  <h3> {% trans "Archivos Dentro del Caso" %} </h3>
          <script src="{% static 'acceso/js/seadragon/openseadragon.min.js.map' %}"></script>
          <script src="{% static 'acceso/js/seadragon/openseadragon.min.js' %}"></script>
          <div id="seadragon-viewer" style="width:400px; height:300px;"></div>

          <script>
            var SRC=[];
            {% for i in dragon %}
              SRC.push("https://dzis.nyc3.digitaloceanspaces.com/{{i.nombre_del_archivo}}.dzi");
              {% endfor %}
          </script>
          <script src="{% static 'acceso/js/seadragon/call_the_dragon.js' %}"></script>
        </div>
        <div class="col-md-6">
		  <h3>{% trans "Metadatos sobre el caso" %}</h3>
          <table class="table table-striped">
            <thead>
              <tr>
			    <th><b>{% trans "Typo de información" %}</b></th>
				<th><b>{% trans "Contenido" %}</b></th>
              </tr>
            </thead>
            <tbody>
		      {% for key, value in kv  %}
			  <tr>
			    <td>{{key|safe}}</td>
				<td>{{value|safe}}</td>
			  </tr>
			  {% endfor %}
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    
    </div>

  </div> <!-- /container-->
{% endblock %}
